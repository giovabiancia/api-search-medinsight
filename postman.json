{
  "info": {
    "_postman_id": "12345678-1234-1234-1234-123456789012",
    "name": "MedInsights Backend API",
    "description": "Collection per testare l'API MedInsights con supporto multi-database (Germania e Italia)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "item": [
    {
      "name": "üè† Info & Health",
      "item": [
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üáÆüáπ Doctors Italy",
      "item": [
        {
          "name": "Get All Doctors (Italy)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/it/doctors",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors by City (Roma)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/it/doctors?city=ROMA",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"],
              "query": [
                {
                  "key": "city",
                  "value": "ROMA"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors by Profession (Cardiologo)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/it/doctors?profession=CARDIOLOGO",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"],
              "query": [
                {
                  "key": "profession",
                  "value": "CARDIOLOGO"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors by City + Profession (Milano + Dentista)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/it/doctors?city=MILANO&profession=DENTISTA",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"],
              "query": [
                {
                  "key": "city",
                  "value": "MILANO"
                },
                {
                  "key": "profession",
                  "value": "DENTISTA"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctor by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/it/doctors?id=1",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"],
              "query": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Doctors (POST with JSON)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"city\": \"ROMA\",\n    \"profession\": \"CARDIOLOGO\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/it/doctors",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üá©üá™ Doctors Germany",
      "item": [
        {
          "name": "Get All Doctors (Germany)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/de/doctors",
              "host": ["{{base_url}}"],
              "path": ["de", "doctors"]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors by City (Berlin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/de/doctors?city=BERLIN",
              "host": ["{{base_url}}"],
              "path": ["de", "doctors"],
              "query": [
                {
                  "key": "city",
                  "value": "BERLIN"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors by Profession (Kardiologe)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/de/doctors?profession=KARDIOLOGE",
              "host": ["{{base_url}}"],
              "path": ["de", "doctors"],
              "query": [
                {
                  "key": "profession",
                  "value": "KARDIOLOGE"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors by City + Profession (Munich + Zahnarzt)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/de/doctors?city=MUNICH&profession=ZAHNARZT",
              "host": ["{{base_url}}"],
              "path": ["de", "doctors"],
              "query": [
                {
                  "key": "city",
                  "value": "MUNICH"
                },
                {
                  "key": "profession",
                  "value": "ZAHNARZT"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Doctors (POST with JSON)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"city\": \"BERLIN\",\n    \"profession\": \"KARDIOLOGE\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/de/doctors",
              "host": ["{{base_url}}"],
              "path": ["de", "doctors"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üåç Dynamic Country Selection",
      "item": [
        {
          "name": "Get Doctors with Country Parameter (IT)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/doctors?country=IT&city=ROMA",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "country",
                  "value": "IT"
                },
                {
                  "key": "city",
                  "value": "ROMA"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors with Country Parameter (DE)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/doctors?country=DE&city=BERLIN",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "country",
                  "value": "DE"
                },
                {
                  "key": "city",
                  "value": "BERLIN"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors with Country Header (IT)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Country-Code",
                "value": "IT"
              }
            ],
            "url": {
              "raw": "{{base_url}}/doctors?profession=CARDIOLOGO",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "profession",
                  "value": "CARDIOLOGO"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Doctors with Country Header (DE)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Country-Code",
                "value": "DE"
              }
            ],
            "url": {
              "raw": "{{base_url}}/doctors?profession=KARDIOLOGE",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "profession",
                  "value": "KARDIOLOGE"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search with Country in JSON (IT)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"country\": \"IT\",\n    \"city\": \"NAPOLI\",\n    \"profession\": \"CHIRURGO\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/doctors",
              "host": ["{{base_url}}"],
              "path": ["doctors"]
            }
          },
          "response": []
        },
        {
          "name": "Search with Country in JSON (DE)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"country\": \"DE\",\n    \"city\": \"HAMBURG\",\n    \"profession\": \"CHIRURG\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/doctors",
              "host": ["{{base_url}}"],
              "path": ["doctors"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üß™ Edge Cases & Testing",
      "item": [
        {
          "name": "Invalid Country Code",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/doctors?country=FR",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "country",
                  "value": "FR"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Non-existent Doctor ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/doctors?id=99999",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "id",
                  "value": "99999"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Non-existent City",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/it/doctors?city=ATLANTIS",
              "host": ["{{base_url}}"],
              "path": ["it", "doctors"],
              "query": [
                {
                  "key": "city",
                  "value": "ATLANTIS"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Empty Parameters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/doctors?city=&profession=",
              "host": ["{{base_url}}"],
              "path": ["doctors"],
              "query": [
                {
                  "key": "city",
                  "value": ""
                },
                {
                  "key": "profession",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Special Characters in Search",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/de/doctors?profession=√§rzt",
              "host": ["{{base_url}}"],
              "path": ["de", "doctors"],
              "query": [
                {
                  "key": "profession",
                  "value": "√§rzt"
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-set timestamp for requests",
          "pm.globals.set('timestamp', Date.now());"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Basic response validation",
          "pm.test('Response status is 200 or 404', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400, 500]);",
          "});",
          "",
          "pm.test('Response has JSON format', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});",
          "",
          "pm.test('Response time is less than 2000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(2000);",
          "});",
          "",
          "// Log response for debugging",
          "console.log('Response:', pm.response.json());"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5005",
      "type": "string"
    },
    {
      "key": "api_version",
      "value": "2.0.0",
      "type": "string"
    }
  ]
}
